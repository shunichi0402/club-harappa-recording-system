# 仕様書
## 目的  
紙飛行機大会の記録管理システム  

## 利用環境  
webブラウザで使用できるwebアプリケーション  

## 機能  
### クラブ管理(管理者)  
- クラブの記録の検索、登録、編集、削除（**ログインが必要**）  

### 参加者管理(管理者)  
- 参加者の検索、登録、編集、削除（**ログインが必要**）  

### 大会記録管理(管理者)  
- 大会の記録の検索、登録、編集、削除（**ログインが必要**）  

### 種目管理(管理者)  
- 種目の検索、登録、編集、削除（**ログインが必要**）  

### ランキング表示  
- 種目ごとにランキングを表示（**ログイン不要**）  

## 非機能要件  
### UIデザイン  
シンプルなデザイン。  

### データ保存  
FirebaseのFirestore。  

### セキュリティ  
管理者画面のみログインが必要。FirebaseのAuthを利用。  

## 技術スタック  
- フロントエンド: Vite を使用した Vue.js。  
- バックエンド: Firebase Hostでホスティング  
- データベース: Firebase Firestore
- ルーティング: vue router
- フレームワーク: vuetify
- 状態管理: Pinia

## データ構造  
1. **クラブ**  
   - ID(自動生成)  
   - クラブ名  
2. **参加者情報**  
   - ID(自動生成)  
   - 氏名
   - 住所
   - 年齢
   - 電話番号
   - メールアドレス  
   - 所属クラブID  
3. **大会**  
   - ID（自動生成）  
   - 開催クラブID  
   - 開催日時  
4. **種目**  
   - ID（自動生成）  
   - 種目名  
   - 種目説明  
5. **記録情報**  
   - ID（自動生成）  
   - 大会ID  
   - 種目ID  
   - 参加者ID  
   - スコア  
   - 登録日時  

## ページ構成  

### 1. **ホームページ**
- **目的**: サイトの概要や目的を表示  
- **ログインの必要性**: **ログイン不要**  
- コンテンツ:  
  - 紙飛行機大会記録管理システムの紹介
  - 一般ユーザー向けランキング表示リンク  

### 2. **管理者ログインページ**
- **目的**: 管理者がシステムにログインするためのページ  
- **ログインの必要性**: **ログイン不要**  
- コンテンツ:  
  - Firebase Authを使用したログインフォーム  
  - ログイン後にダッシュボードへ遷移  

### 3. **管理者ダッシュボード**
- **目的**: 管理者が各種管理機能にアクセスするためのページ  
- **ログインの必要性**: **ログイン必須**  
- コンテンツ:  
  - クラブ管理リンク  
  - 参加者管理リンク  
  - 大会記録管理リンク  
  - 種目管理リンク  

### 4. **クラブ管理ページ**
- **目的**: クラブ情報の管理  
- **ログインの必要性**: **ログイン必須**  
- コンテンツ:  
  - クラブ一覧表示（テーブル形式）  
  - 検索、登録、編集、削除ボタン  
  - クラブ追加用モーダルフォーム  

### 5. **参加者管理ページ**
- **目的**: 参加者情報の管理  
- **ログインの必要性**: **ログイン必須**  
- コンテンツ:  
  - 参加者一覧表示（クラブ別のフィルタリング可能）  
  - 検索、登録、編集、削除ボタン  
  - 参加者追加用モーダルフォーム  

### 6. **大会記録管理ページ**
- **目的**: 大会の記録管理  
- **ログインの必要性**: **ログイン必須**  
- コンテンツ:  
  - 大会情報一覧表示（テーブル形式）  
  - 大会検索、登録、編集、削除ボタン  
  - 大会追加用モーダルフォーム  

### 7. **種目管理ページ**
- **目的**: 種目情報の管理  
- **ログインの必要性**: **ログイン必須**  
- コンテンツ:  
  - 種目一覧表示（テーブル形式）  
  - 検索、登録、編集、削除ボタン  
  - 種目追加用モーダルフォーム  

### 8. **ランキングページ**  
- **目的**: 種目ごとにランキングを表示  
- **ログインの必要性**: **ログイン不要**  
- コンテンツ:  
  - 種目選択ドロップダウン  
  - 選択された種目のランキング一覧  
  - 検索機能（参加者名で検索可能）  

### 9. **エラーページ**
- **目的**: エラーメッセージを表示  
- **ログインの必要性**: **ログイン不要**  
- コンテンツ:  
  - エラーメッセージとホームページへのリンク

## **コンポーネント構成**

### **1. 共通コンポーネント**
- **Header**  
  サイト全体で共通するヘッダー部分。ログイン状態やナビゲーションメニューを表示。
- **Footer**  
  サイト全体で共通するフッター部分。
- **ModalForm**  
  登録や編集に共通するモーダルフォームの基底コンポーネント。動的にフォームフィールドを受け取れるようにする。
- **DataTable**  
  一覧表示用のテーブルコンポーネント。検索、フィルタリング、ソート機能を含む。
- **ErrorPage**  
  エラーページ表示用コンポーネント。

### **2. ページコンポーネント**
- **HomePage**  
  紙飛行機大会の概要やランキングページへのリンクを含むトップページ。
- **AdminLoginPage**  
  Firebase Authを使用したログインフォームを持つログインページ。
- **AdminDashboard**  
  各管理機能（クラブ、参加者、大会、種目）のリンクをまとめた管理者専用ダッシュボード。
- **ClubManagementPage**  
  クラブ管理用ページ。クラブ情報の一覧表示、検索、登録、編集、削除機能を含む。
- **ParticipantManagementPage**  
  参加者管理用ページ。クラブ別フィルタリング、検索、登録、編集、削除機能を含む。
- **TournamentManagementPage**  
  大会記録管理用ページ。大会情報の一覧表示、検索、登録、編集、削除機能を含む。
- **EventManagementPage**  
  種目管理用ページ。種目情報の一覧表示、検索、登録、編集、削除機能を含む。
- **RankingPage**  
  種目ごとのランキングを表示するページ。種目選択や参加者名検索機能を含む。

### **3. 専用コンポーネント**
- **ClubForm**  
  クラブ登録・編集用のフォーム。
- **ParticipantForm**  
  参加者登録・編集用のフォーム。
- **TournamentForm**  
  大会記録登録・編集用のフォーム。
- **EventForm**  
  種目登録・編集用のフォーム。
- **RankingTable**  
  種目ごとのランキング表示用コンポーネント。

### **4. Vue Router のルーティング**
- `/` : HomePage  
- `/login` : AdminLoginPage  
- `/dashboard` : AdminDashboard  
- `/dashboard/clubs` : ClubManagementPage  
- `/dashboard/participants` : ParticipantManagementPage  
- `/dashboard/tournaments` : TournamentManagementPage  
- `/dashboard/events` : EventManagementPage  
- `/ranking` : RankingPage  
- `/error` : ErrorPage  

---

## **技術的考慮点**
1. **認証**  
   - Vue Router の `beforeEach` を使い、ログインが必要なページのアクセス制御。
2. **データ管理**  
   - Firestore を使ったリアクティブデータバインディング。
3. **UIデザイン**  
   - Vuetifyを利用して、シンプルかつ一貫性のあるデザインを実現。
4. **レスポンシブデザイン**  
   - スマホ、タブレット、PCで使いやすいUI設計。
5. **セキュリティ**  
   - Firebase Authで認証機能を実装し、認証トークンの管理を適切に行う。